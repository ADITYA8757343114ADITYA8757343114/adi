{
  "version": "2.3",
  "build": {
    "context": ".",
    "dockerfile": "Dockerfile",
    "args": {
      "HTTP_PROXY": "",
      "HTTPS_PROXY": ""
    }
  },
  "services": {
    "web": {
      "build": "web",
      "image": "myapp-web",
      "ports": [
        "80:80"
      ],
      "networks": [
        "webnet"
      ],
      "volumes": [
        "/var/www/html"
      ]
    },
    "db": {
      "image": "postgres:latest",
      "environment": [
        "POSTGRES_USER=myuser",
        "POSTGRES_PASSWORD=mypassword",
        "POSTGRES_DB=mydb"
      ],
      "volumes": [
        "dbdata:/var/lib/postgresql/data"
      ],
      "networks": [
        "dbnet"
      ]
    }
  },
  "networks": {
    "webnet": {
      "driver": "bridge"
    },
    "dbnet": {
      "driver": "bridge"
    }
  },
  "volumes": {
    "dbdata": {}
  }
}
